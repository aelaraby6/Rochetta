import{k as f,u as j,a as k,l as y,g as N,j as e,L as i,S as w,z as s}from"./index-D8XKaJer.js";function C(){const{id:c}=f(),d=j(),{isAuthenticated:x}=k(a=>a.auth),{data:m,isLoading:g,isError:b}=y(c),[p,{isLoading:o}]=N(),t=m?.data;if(g)return e.jsx("div",{className:"flex justify-center items-center mt-40",children:e.jsx(i,{className:"w-12 h-12 animate-spin text-green-600"})});if(b||!t)return e.jsxs("div",{className:"mt-40 text-center dark:text-white",children:[e.jsx("p",{className:"text-2xl mb-4 font-semibold",children:"Product not found"}),e.jsx("button",{className:"px-6 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",onClick:()=>d(-1),children:"Go back"})]});const l=t.stock!==void 0?t.stock:t.pieces||0,u=t.description||t.desc||"",r=l<=0,n=t.requires_prescription||t.IsRoshetta,h=async()=>{if(!x){s.error("Please login to add items");return}try{await p({productId:t._id,quantity:1}).unwrap(),s.success("Item added to cart!")}catch(a){s.error(a.data?.message||"Failed to add item")}};return e.jsx("div",{className:"max-w-6xl mx-auto mt-28 px-4 sm:px-6 lg:px-8 mb-20 text-black dark:text-white transition-colors duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-10 bg-white dark:bg-[#2c2c2c] p-8 rounded-3xl shadow-xl border border-gray-100 dark:border-gray-800",children:[e.jsx("div",{className:"w-full md:w-1/2 flex justify-center items-center bg-gray-50 dark:bg-[#1e1e1e] rounded-2xl p-8",children:e.jsx("img",{src:t.image||"/placeholder.png",alt:t.name,className:"max-h-[440px] w-auto object-contain bg-transparent mix-blend-multiply dark:mix-blend-normal",loading:"lazy"})}),e.jsxs("div",{className:"w-full md:w-1/2 flex flex-col justify-center",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:t.name}),e.jsxs("p",{className:"text-3xl font-black text-green-600 dark:text-green-400 mb-6",children:["$",t.price]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg mb-8 leading-relaxed whitespace-pre-wrap",children:u}),e.jsxs("div",{className:"mb-8 border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsxs("p",{className:"text-lg mb-2 flex items-center gap-2",children:[e.jsxs("span",{className:"font-semibold text-gray-800 dark:text-gray-200",children:["Available Stock:"," "]}),e.jsxs("span",{className:`font-bold ${r?"text-red-500":"text-green-600 dark:text-green-400"}`,children:[l," pieces"]})]}),n&&e.jsx("p",{className:"text-red-600 dark:text-red-400 font-bold bg-red-50 dark:bg-red-900/20 inline-block px-4 py-1.5 rounded-lg mt-2 border border-red-200 dark:border-red-800",children:"⚠️ Requires Medical Prescription"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-auto",children:[e.jsx("button",{className:"flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-bold py-4 px-6 rounded-xl transition-transform active:scale-95 shadow-md flex justify-center items-center gap-2 text-lg",onClick:h,disabled:r||o||n,children:o?e.jsx(i,{className:"w-6 h-6 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"w-6 h-6"})," ",r?"Out of Stock":"Add to Cart"]})}),e.jsx("button",{className:"px-8 py-4 border-2 border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 font-bold rounded-xl transition-colors text-lg",onClick:()=>d(-1),children:"Back"})]})]})]})})}export{C as default};
